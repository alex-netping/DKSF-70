/*@{
defgroup flash_lpc
* Модуль flash_lpc предназначен для реализации интерфейса с flash процессоров семейства LPC213x
* модуль позволяет:
* - стереть сектор флаш
* - записать блок в флеш
*\autor 
*version 1.0
*\date 17.08.2007
*
*
*/

#include "platform_setup.h"
#ifndef  FLASH_LPC_H
#define  FLASH_LPC_H
///Версия модуля
#define  FLASH_LPC_VER	  1
///Сборка модуля
#define  FLASH_LPC_BUILD  0
//------------- Проверка зависимостей
//  Если модуль зависим от других модулей проекта, то необходимо произвести 
//проверку наличия в проекте этих модулей и совместимости их версий с версией 
//текущего модуля. 

//------------- Определение вызовов из зависимых модулей ---------------------

//------------- Описание структуры модуля ------------------------------------
///Кол-во процедур инициализации
#define FLASH_LPC_INITS	  0
///Кол-во процедур исполняемых в главном цикле
#define FLASH_LPC_EXECS	  0
///Кол-во процедур исполняемых в таймере
#define FLASH_LPC_TIMERS  0
///Структура описания модуля

//---------------- Раздел, где будут определяться константы модуля -------------------------

///Тип поддерживаемых процессоров
#define FLASH_LPC_2131  0
#define FLASH_LPC_2132  1
#define FLASH_LPC_2134  2
#define FLASH_LPC_2136  3
#define FLASH_LPC_2138  4
#define FLASH_LPC_2366  5

//---------------- Раздел, где будут определяться структуры модуля -------------------------

//---------------- Раздел, где будут определяться глобальные переменные модуля -------------

//---------------- Раздел, где будут определяться функции модуля ---------------------------

/*! Процедура стирания секторов flash с num1 по num2 включительно
\param num1 -номер стартового сектора
\param num2 -номер конечного сектора
*/
void flash_lpc_erase(uword num1,uword num2);

/*! Процедура записи блока в flash
* Прим. Тип процессора определяется константой FLASH_LPC_PROC (см. flash_lpc_def.h)
\param addr - стартовый адрес
\param buf - указатель на буфер
\param len - длинна буфера
*/
void flash_lpc_write(unsigned long addr,unsigned char *buf,unsigned short len);


void prepare_sect(unsigned int start,unsigned int stop);
void flash_wr_func(unsigned long addr,unsigned char *buf,unsigned int len);



#endif
//}@
